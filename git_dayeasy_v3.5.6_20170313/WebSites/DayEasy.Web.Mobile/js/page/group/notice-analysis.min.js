!function(t,a){var e=a.uri();a.progress.start(),t.dAjax({method:"work_eaSummary",id:e.examId},function(t){s(t.data)});var s=function(a){var e=function(t){return-1==t?"缺考":t},s=function(t){return-1==t?"-":t};t(".d-notice-analysis-name").html(a.examinationTitle);var r='<div class="am-fl td-left"> <p>我的总分</p> <b class="am-text-truncate">'+e(a.totalScore)+'</b> </div> <div class="am-fr td-right"> <dl> <dt>年级总排名</dt> <dd>'+e(a.gradeRank)+'</dd> </dl> <dl> <dt class="am-text-truncate">年级平均分</dt> <dd>'+parseFloat(a.avgGradeScore.toFixed(2))+"</dd> </dl> <dl> <dt>班内总排名</dt> <dd>"+e(a.classRank)+'</dd> </dl> <dl> <dt class="am-text-truncate">班内平均分</dt> <dd>'+parseFloat(a.avgClassScore.toFixed(2));t(".head-title-analysis").append(r),AnalysisTableHtml="<tr>",AnalysisTableHtml+='<th width="11%">学科</th><th width="11%">总分</th><th width="11%">A卷</th><th width="11%">B卷</th><th width="11%">年级平均分</th><th width="11%">年级A卷平均</th><th width="11%">年级B卷平均</th><th width="11%">年级排名</th></tr>';for(var d=0;d<a.ranks.length;d++){var o=a.ranks[d].paperType;AnalysisTableHtml+='<tr><td width="11%">'+a.ranks[d].subjectName+"</td><td>"+e(a.ranks[d].totalScore)+"</td><td>"+s(a.ranks[d].aScore)+"</td><td>"+s(a.ranks[d].bScore)+"</td>",AnalysisTableHtml+="<td>"+s(parseFloat(a.ranks[d].avgGradeTotalScore.toFixed(1)))+"</td>",1==o&&(AnalysisTableHtml+="<td>-</td>",AnalysisTableHtml+="<td>-</td>"),2==o&&(AnalysisTableHtml+="<td>"+s(parseFloat(a.ranks[d].avgGradeAScore.toFixed(1)))+"</td>",AnalysisTableHtml+="<td>"+s(parseFloat(a.ranks[d].avgGradeBScore.toFixed(1)))+"</td>"),AnalysisTableHtml+="<td>"+s(a.ranks[d].gradeRank)+"</td></tr>"}t("#PerformanceDetails").append(AnalysisTableHtml)};t.dAjax({method:"work_eaScoreSections",id:e.examId},function(t){r(t.data),a.progress.done()});var r=function(a){for(var e="",s=0;s<a.length;s++){e+='<li><div class="d-ranking d-tab-score"><div class="f-cb tab-title"><div class="am-fl subject">'+a[s].subjectName+'</div><div class="am-fl tab-menu"><span class="on">总分</span>',2==a[s].paperType&&(e+="<span>A卷</span><span>B卷</span>"),e+='</div></div><div class="tab-score-conten"><table class="d-analysis-table on g-segment"><tr><th>分数段</th><th>人数</th></tr>';for(var r=a[s].section.scoreGroupes.length-1;r>=0;r--)e+="<tr><td>"+a[s].section.scoreGroupes[r].scoreInfo+"</td><td>"+a[s].section.scoreGroupes[r].count+"</td></tr>";if(e+="</table>",2==a[s].paperType){e+='<table class="d-analysis-table g-segment"><tr><th>分数段</th><th>人数</th></tr><tr>';for(var d=0;d<a[s].section.abScoreGroupes.length;d++)if(a[s].section.abScoreGroupes[d]==a[s].section.abScoreGroupes[0])for(var o=a[s].section.abScoreGroupes[d].length-1;o>=0;o--)e+="<tr><td>"+a[s].section.abScoreGroupes[0][o].scoreInfo+"</td><td>"+a[s].section.abScoreGroupes[0][o].count+"</td></tr>";e+='</table><table class="d-analysis-table g-segment"><tr><th>分数段</th><th>人数</th></tr>';for(var d=0;d<a[s].section.abScoreGroupes.length;d++)if(a[s].section.abScoreGroupes[d]==a[s].section.abScoreGroupes[1])for(var o=a[s].section.abScoreGroupes[d].length-1;o>=0;o--)e+="<tr><td>"+a[s].section.abScoreGroupes[1][o].scoreInfo+"</td><td>"+a[s].section.abScoreGroupes[1][o].count+"</td></tr>";e+="</table>"}e+="</div></div></li>"}t(".fraction-list").append(e)};t("body").on("touchstart click",".d-tab-score .tab-menu span",function(a){a.preventDefault();var e=t(this);e.addClass("on").siblings().removeClass("on"),e.parents(".d-tab-score").children(".tab-score-conten").find("table").eq(e.index()).addClass("on").siblings().removeClass("on")})}(jQuery,SINGER);