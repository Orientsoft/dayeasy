!function(e,a){var t,s,n=a.uri(),o=e(".d-group-list"),r=e(".d-group"),u=e("#applybutton"),l="",i=e("#realname"),d=e("#information");a.progress.start(),a.setUser(function(e){e.name?i.val(e.name):(i.removeClass("hide"),u.addClass("disabled"))}),t=function(){l+="<ul>",l+="<li>",l+='<img src="'+n.logo+'" width="80" height="80" alt="'+n.name+'">',l+='<span class="group-name">'+n.name+"</span>",l+='<div class="group-count am-text-truncate">'+n.code+"</div>",l+='<div class="group-count group-member am-text-truncate ">'+(n.count||"")+"</div>",l+='<div class="group-count group-member am-text-truncate ">'+(n.type||"")+"</div>",l+="</li>",l+="</ul>",o.append(l)},t(),a.progress.done(),r.on("keyup","#realname",function(e){e.preventDefault();var a=i.val();""!=a?u.removeClass("disabled"):u.addClass("disabled")}),u.on("click",function(t){t.preventDefault();var o=e(this);return o.hasClass("disabled")?!1:void a.setUser(function(t){if(t.name)s=t.name;else{s=i.val();var o=/^[\u4E00-\u9FA5]+$/;if(!o.test(e.trim(s)))return a.msg("请输入中文姓名"),!1}e.dAjax({method:"group_apply",groupId:n.groupId,message:d.val(),name:s},function(e){return e.status?void(location.href="/page/group/apply-success.html?name="+n.name+"&code="+n.code+"&logo="+n.logo):(a.msg(e.message),!1)},!0)})})}(jQuery,SINGER);