!function(e,d){var s=e("#mobile"),a=e("#vcode"),t=e("#btnSendCode"),n=e("#perSubmit"),i=e(".j-bxo-ona"),o=e(".j-bxo-two"),l=e(".g-user-id"),r=e(".d-login-title"),c=r.find(".hp-left"),v=r.find(".hp-h1"),u=e("#newpwd"),p=e("#pwd"),h=e("#submibtns");t.on("click",function(){var a=e(this);return d.checkPhone(s)?void e.dAjax({method:"message_sendSmsCode",mobile:s.val(),check:!1,isEncrypt:!1},function(e){d.Reacquisition(s,a)},!0):!1}),n.click(function(){return e(this).hasClass("disabled")?!1:d.checkPhone(s)&&d.checkVcod(a)?(i.addClass("hide"),o.removeClass("hide"),l.text(s.val()),v.text("设置密码"),void c.addClass("hide")):!1}),h.click(function(t){var n=e(this);if(n.hasClass("disabled"))return!1;var l=u.val(),r=p.val();return l!=r?(d.FocusFun(p,"密码不一致"),!1):void e.dAjax({method:"user_resetPwd",mobile:s.val(),password:p.val(),vcode:a.val(),isEncrypt:!1},function(e){e.status?window.location="/page/account/resetpwd-success.html":(c.removeClass("hide"),i.removeClass("hide"),o.addClass("hide"),v.text("验证身份"),d.FocusFun(a,"验证码不一致"))},!0)}),e(".d-btn-pwd").bind("click",function(){var d=e(this),s=d.parents(".d-input"),a=s.find(".d-text");"password"===a.attr("type")?(a.attr("type","text"),d.addClass("d-btn-on")):(a.attr("type","password"),d.removeClass("d-btn-on"))}),e("#perForm").on("keyup","#mobile,#vcode",function(e){e.preventDefault();var d=s.val(),t=a.val();""!=d&&""!=t?n.removeClass("disabled"):n.addClass("disabled")}).on("keyup","#newpwd,#pwd",function(e){e.preventDefault();var d=u.val(),s=p.val();""!=d&&""!=s?h.removeClass("disabled"):h.addClass("disabled")})}(jQuery,SINGER);