!function($){var autoBoxs=[];$.fn.extend({hiddenAway:function(options){var opts=$.extend({toggleClass:"ha-show",container:"ha-content",state:0,toggleHtml:null,joint:null,time:300,resize:!0},options||{}),$t=$(this);return $.each($t,function(i){var $item=$t.eq(i),data=$item.data("hiddenaway")||$item.attr("data-hiddenaway"),ps=$.extend({},opts);if(data&&"string"==typeof data)try{data=eval("("+data+")")}catch(e){}"object"==typeof data&&(ps=$.extend(ps,data)),$(ps.container).data("state",ps.state),$item.data("ps",ps);var toggleFn=function(t,e){var n,i,a=$(t),o=a.data("ps"),s=$(o.container),c=o.toggleClass,l=o.time;if(c&&a.toggleClass(c),e){var d=s.data("state");d?(o.resize&&setTimeout(function(){window.autoHeight&&window.autoHeight.set()},l+200),s.fadeOut(l).data("state",0)):(o.resize&&window.autoHeight&&window.autoHeight.set(),s.fadeIn(l).data("state",1))}n=o.toggleHtml,null!=n&&(o.toggleHtml=a.html(),a.html(n)),i=$(o.joint),e&&i&&toggleFn(i,!1),a.data("ps",o)};$item.bind("click",function(){return toggleFn(this,!0),!1})})},autoHeight:function(t){var e=$.extend({leftHeight:314,minHeight:350,type:0},t||{}),n=$(this);n.each(function(){autoBoxs.push(this)});var i=function(){var t=$(window).height();n.each(function(i){var a=n.eq(i),o=a.data("left")||e.leftHeight,s=a.data("min")||e.minHeight,c=a.data("type")||e.type,l=t-o;0==c?a.css("height",(s>=l?s:l)+"px"):a.css(s>=l?{height:"auto","min-height":s}:{"min-height":l,overflow:"hidden"})})};return i(),$(window).bind("resize.autoHeight",function(){i()}),{set:i}},wheelMove:function(t){var e,n,t=$.extend({},{items:">li",prev:".w-prev",next:".w-next",direction:"top",wheel:!0,step:1,min:2,start:0,show:3,speed:500,loop:!0,blank:!0,auto:!1,sleep:4e3,pause:!0,controls:"",controlEvent:"click.wheel",activeClass:"active",easing:"",callback:!1},t),i=$(this),a=!1,o={},s=$(t.controls);if(o.items=i.find(t.items),o.len=o.items.length,o.len<t.min)return!1;var c=o.items.eq(0);e="top"===t.direction?c.outerHeight():c.outerWidth(),i.data("index",0);var l,d=function(c,l){var d=i.data("index");if(d+=c,a)return n={index:d,isTimer:l},!1;if(n="",!l&&h(),a=!0,c>0){var r=o.len-d;!t.blank&&r<t.step&&r>0&&(d-=t.step-r)}else 0>d&&d>0-t.step&&(d=0);if(!t.loop&&(0>d||d>=o.len))return a=!1,!1;var p=o.len%t.show;0==p&&(p=t.show),0>d&&(d=o.len-p),d>=o.len&&(d=0);var f={duration:t.speed,complete:function(){a=!1,!l&&u(),n&&o.to(n.index),t.callback&&"function"==typeof t.callback&&t.callback.call(this,d)}};t.easing&&(f.easing=t.easing),"top"===t.direction?i.animate({"margin-top":0-d*e},f):i.animate({"margin-left":0-d*e},f),s.length&&s.removeClass(t.activeClass).eq(d).addClass(t.activeClass),i.data("index",d)},r=!1,u=function(){t.auto&&(l||(l=setInterval(function(){a||d(t.step,!0)},t.sleep),r=!1))},h=function(){t.auto&&l&&(clearTimeout(l),l=void 0,r=!0)};return t.auto&&(u(),t.pause&&i.bind("mouseover",function(){h(),r=!0}).bind("mouseout",function(){r=!1,u()})),t.prev&&$(t.prev).bind("click",function(){o.prev()}),t.next&&$(t.next).bind("click",function(){o.next()}),s.length&&s.bind(t.controlEvent,function(){var t=s.index($(this));o.to(t)}),t.wheel&&i.bind("mousewheel.wheelmove",function(e,n){return d(0>n?t.step:0-t.step),!1}),$(window).bind("resize.wheelmove",function(){e="top"===t.direction?c.outerHeight():c.outerWidth(),o.to(i.data("index"))}),o.reset=function(){o.items=i.find(t.items),o.len=o.items.length},o.prev=function(){d(0-t.step)},o.next=function(){d(t.step)},o.to=function(t){var e=i.data("index");d(t-e)},o.index=function(){return i.data("index")},o}}),$(".j-hiddenAway").hiddenAway(),window.autoHeight=$(".j-autoHeight").autoHeight()}(jQuery),function(t){window.dialog&&t._mix(t,{alert:function(e,n){return dialog({title:"消息提示",content:e,okValue:"确定",ok:function(){n&&t.isFunction(n)&&n.call(this),this.close().remove()},cancel:!1}).showModal()},confirm:function(e,n,i,a){return a&&t.isArray(a)||(a=["确认","取消"]),dialog({title:"消息确认提示",content:e,okValue:a[0],ok:function(){n&&t.isFunction(n)&&n.call(this)},cancelValue:a[1],cancel:function(){i&&t.isFunction(i)&&i.call(this),this.close().remove()}}).showModal()},tip:function(t,e,n,i){return dialog({align:i,title:e,content:n,quickClose:!0,ok:function(){this.close().remove()}}).show(t)},msg:function(e,n,i){var a=dialog({content:e}).show();setTimeout(function(){a.close().remove(),i&&t.isFunction(i)&&i.call(this)},n||2e3)},dialog:dialog,showImage:function(t){var e=$("<div>"),n=$("<div>");n.append('<i class="fa fa-spin fa-spinner fa-2x"></i> 努力加载中...');var i=$("<img />");i.attr("src",t),i.css("max-width","800px"),i.css("max-height","500px"),i.css("display","none"),e.append(n),e.append(i);var a=dialog({title:"图片查看",content:e,quickClose:!0,backdropOpacity:.5});a.showModal(),i.bind("load",function(){n.remove(),$(this).show(),a.reset()})},msgArray:{updateSuccess:"更新成功！",publishSuccess:'发布成功！老师辛苦了，“<span class="tip-color">进行中</span>”可查看哦~',closeSuccess:'关闭成功！作业已移至“<span class="tip-color">已结束</span>”咯~',workSuccess:'发布成功！老师辛苦了， <span class="tip-color">批阅中心</span>可查看哦~'}})}(SINGER);