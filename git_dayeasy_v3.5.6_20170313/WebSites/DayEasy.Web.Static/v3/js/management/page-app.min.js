!function(t,a){var e,n,i;e=function(a,e){t.post("/sys/apps/edit",{id:a},function(a){t.Dayez.dialog(e+" - 编辑应用",a,function(){var a=t("#editForm").serialize();return t.ajax({url:"/sys/apps/add",data:a,type:"POST",success:function(a){a.status?t.Dayez.alert("编辑成功！",function(){window.location.reload()}):t.Dayez.tip(t(".ui-dialog-button"),a.message,"left")}}),!1},function(){})})},n=function(a){t.Dayez.confirm("您确定要删除该应用吗？",function(){t.post("/sys/apps/delete",{id:a},function(a){a.status?t.Dayez.alert("删除成功！",function(){window.location.reload()}):t.Dayez.msg(a.message)})},function(){})},i=function(){var a=t("#addAppDiv").html();t.Dayez.dialog("添加应用",a,function(){var a=t("#addForm").serialize();return t.ajax({url:"/sys/apps/add",data:a,type:"POST",success:function(a){a.status?t.Dayez.alert("添加应用成功！",function(){window.location.reload()}):t.Dayez.tip(t(".ui-dialog-button"),a.message,"left")}}),!1},function(){})},t(".a-edit").click(function(){var a=t(this).parents("tr"),n=a.data("id"),i=a.data("name");return e(n,i),!1}),t(".a-delete").click(function(){var a=t(this).parents("tr"),e=a.data("id");return n(e),!1}),t("#btn-add").click(function(){i()}),t('input[type="checkbox"][name="lookDelete"]').bind("change",function(){this.checked?location.href="/sys/apps?hasDelete=true":location.href="/sys/apps"}),t(document).delegate('input[name="roleGroup"]',"change",function(){var a=t('input[name="roleGroup"]:checked'),e=0;a.each(function(t,a){e+=~~a.value}),t('input[name="role"]').val(e)})}(jQuery,SINGER);