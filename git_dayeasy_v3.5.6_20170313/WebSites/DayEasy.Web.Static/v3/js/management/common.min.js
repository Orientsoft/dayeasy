!function($){$.extend({Dayez:{alert:function(t,e){var n=dialog({title:"消息提示",content:t,okValue:"确定",ok:function(){e&&"function"==typeof e&&e.call(this)},cancel:!1,backdropBackground:"#000",backdropOpacity:.3}).width(300).showModal();return $(n)},confirm:function(t,e,n){var r=dialog({title:"消息确认提示",backdropBackground:"#000",backdropOpacity:.3,content:t,okValue:"确定",ok:e,cancelValue:"取消",cancel:n}).width(300).showModal();return $(r)},tip:function(t,e,n){var r=dialog({align:n,content:e,quickClose:!0}).show(t[0]);return $(r)},msg:function(t,e){var n=dialog({content:t}).show();return setTimeout(function(){n.close().remove()},e||2e3),$(n)},dialog:function(t,e,n,r){t||(t="温馨提示");var o=dialog({title:t,content:e,okValue:"确定",ok:n,cancelValue:"取消",cancel:r,backdropBackground:"#000",backdropOpacity:.3}).showModal();return $(o)},showImg:function(t){var e=$("<img />");e.attr("src",t),e.css("max-width","520px");var n=dialog({title:"图片查看",content:e[0].outerHTML,backdropBackground:"#000",backdropOpacity:.3,quickClose:!1}).showModal();return $(n)}},Operation:{Add:function(t,e){var n,r,o;try{n=t.toString().split(".")[1].length}catch(a){n=0}try{r=e.toString().split(".")[1].length}catch(a){r=0}return o=Math.pow(10,Math.max(n,r)),(t*o+e*o)/o},Sub:function(t,e){return this.Add(t,-e)},Mul:function(t,e){var n=0,r=t.toString(),o=e.toString();try{n+=r.split(".")[1].length}catch(a){}try{n+=o.split(".")[1].length}catch(a){}return Number(r.replace(".",""))*Number(o.replace(".",""))/Math.pow(10,n)},Div:function(arg1,arg2){var r1,r2,t1=0,t2=0;try{t1=arg1.toString().split(".")[1].length}catch(e){}try{t2=arg2.toString().split(".")[1].length}catch(e){}with(Math)return r1=Number(arg1.toString().replace(".","")),r2=Number(arg2.toString().replace(".","")),r1/r2*pow(10,t2-t1)}},URL:{BuildURL:function(url,name,value){var newUrl="",reg=new RegExp("(^|)"+name+"=([^&]*)(|$)"),tmp=name+"="+value;return newUrl=null!=url.match(reg)?url.replace(eval(reg),tmp):url.match("[?]")?url+"&"+tmp:url+"?"+tmp}}}),$.fn.extend({time:function(t){var e=this;setTimeout(function(){e[0].close().remove()},t)},dragResize:function(t){for(var e=$(this),n=0;n<e.length;n++){var r={direction:t,minW:e[n].width,minH:e[n].height};new dragChangeSize(e[n],r)}},countDown:function(t){var e=$(this),n=t,r=setInterval(function(){var t="";if(n>0){n-=1;var o=Math.floor(n/3600/24),a=Math.floor(n/3600%24),i=Math.floor(n/60%60),l=Math.floor(n%60);t=o+"天",t+=(10>a?"0"+a:a)+"小时",t+=(10>i?"0"+i:i)+"分钟",t+=(10>l?"0"+l:l)+"秒",e.html(t)}else e.html("时间到了！"),clearInterval(r)},1e3)}});var dragChangeSize=function(t,e){function n(t){t.stopPropagation(),"X"==$.trim(o.options.direction)?(Xm=t.clientX-l,Xm<=o.options.minW&&(Xm=o.options.minW),i.width=Xm+"px",$(a).css("max-width","none")):"Y"==$.trim(o.options.direction)?(Ym=t.clientY-y,Ym<=o.options.minH&&(Ym=o.options.minH),i.height=Ym+"px",$(a).css("max-height","none")):(Xm=t.clientX-l,Ym=t.clientY-y,Xm<=o.options.minW&&(Xm=o.options.minW),Ym<=o.options.minH&&(Ym=o.options.minH),i.width=Xm+"px",i.height=Ym+"px",$(a).css("max-width","none").css("max-height","none"))}function r(){a.releaseCapture?(a.releaseCapture(),a.onmousemove=a.onmouseup=null):$(document).unbind("mousemove",n).unbind("mouseup",r)}this.$element=$(t),this.defaults={direction:"",minW:100,minH:40},this.options=$.extend({},this.defaults,e);var o=this,a=this.$element[0],i=a.style,l=y=Xm=Ym=0;$(a).mousedown(function(t){t.stopPropagation(),l=t.clientX-a.offsetWidth,y=t.clientY-a.offsetHeight,a.setCapture?(a.setCapture(),a.onmousemove=function(t){n(t||event)},a.onmouseup=r):$(document).bind("mousemove",n).bind("mouseup",r),t.preventDefault()})};Date.prototype.format=function(t){var e=t,n={"y+":this.getFullYear(),"M+":this.getMonth()+1,"d+":this.getDate(),"H+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),S:this.getMilliseconds(),"h+":this.getHours()%12,a:this.getHours()/12<=1?"AM":"PM"};for(var r in n){var o=new RegExp("("+r+")");if(o.test(e)){for(var a="",i=0;i<RegExp.$1.length;i++)a+="0";var l=1==RegExp.$1.length?n[r]:(a+n[r]).substring((""+n[r]).length);e=e.replace(RegExp.$1,l)}}return e},String.prototype.replaceAll=function(t,e,n){return RegExp.prototype.isPrototypeOf(t)?this.replace(t,e):this.replace(new RegExp(t,n?"gi":"g"),e)},String.prototype.replaceByJson=function(t){return this.replace(/\{\w+\}/gi,function(e){var n=t[e.replace(/\$/g,"")];return n+""=="undefined"?"":n})},$.validator&&($.validator.setDefaults({debug:!0,ignore:":hidden",errorClass:"has-error",errorElement:"span",highlight:function(t,e){$(t).parent().addClass(e)},errorPlacement:function(t,e){$(t).addClass("text-danger").insertAfter(e)},success:function(t){$(t).parent().removeClass("has-error")}}),$.validator.addMethod("regex",function(t,e,n){var r=new RegExp(n);return r.test(t)},"格式错误"),$.validator.addMethod("mobile",function(t,e){var n=t.length,r=/^(((13[0-9]{1})|(14[0-9]{1})|(15[0-9]{1})|(18[0-9]{1}))+\d{8})$/;return this.optional(e)||11==n&&r.test(t)},"手机号码格式错误"),$.validator.addMethod("phone",function(t,e){var n=/^(0[0-9]{2,3}\-)?([2-9][0-9]{6,7})+(\-[0-9]{1,4})?$/;return this.optional(e)||n.test(t)},"电话号码格式错误"),$.validator.addMethod("phoneOrMobile",function(t,e){var n=(t.length,/^(((13[0-9]{1})|(14[0-9]{1})|(15[0-9]{1})|(18[0-9]{1}))+\d{8})$/),r=/^\d{3,4}-?\d{7,9}$/;return this.optional(e)||r.test(t)||n.test(t)},"电话格式错误"),$.validator.addMethod("postCode",function(t,e){var n=/^[0-9]{6}$/;return this.optional(e)||n.test(t)},"邮政编码格式错误"),$.validator.addMethod("idCard",function(t,e){var n=/^(^\d{15}$|^\d{18}$|^\d{17}(\d|X|x))$/;return this.optional(e)||n.test(t)},"身份证号码格式错误"),$.validator.addMethod("qq",function(t,e){var n=/^[1-9]\d{4,9}$/;return this.optional(e)||n.test(t)},"qq号码格式错误"),$.validator.addMethod("ip",function(t,e){var n=/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/;return this.optional(e)||n.test(t)&&RegExp.$1<256&&RegExp.$2<256&&RegExp.$3<256&&RegExp.$4<256},"Ip地址格式错误"),$.validator.addMethod("charNum",function(t,e){var n=/^([a-zA-Z0-9]+)$/;return this.optional(e)||n.test(t)},"只能输入数字和字母"),$.validator.addMethod("charNumUnderline",function(t,e){var n=/^(\w){6,20}$/;return this.optional(e)||n.test(t)},"只能输入数字、字母、下划线"),$.validator.addMethod("chinese",function(t,e){var n=/^[\u4e00-\u9fa5]+$/;return this.optional(e)||n.test(t)},"只能输入中文"),$.extend($.validator.messages,{required:"必填内容",remote:"该内容已存在",email:"email格式不正确",url:"网址不合法",date:"日期不合法",dateISO:"日期 (ISO)不合法",number:"请输入数字",digits:"只能输入整数",creditcard:"信用卡号不合法",equalTo:"两次输入不一致",accept:"字符串后缀不合法",maxlength:jQuery.validator.format("长度最多是{0}"),minlength:jQuery.validator.format("长度最少是{0}"),rangelength:jQuery.validator.format("长度介于{0}和{1}之间"),range:jQuery.validator.format("大小介于{0}和{1}之间"),max:jQuery.validator.format("最大为{0}"),min:jQuery.validator.format("最小为{0}")})),$.fn.extend({disabled:function(t){var e=$(this);e.attr("disabled","disabled").addClass("disabled"),t&&e.data("html",e.html()).html(t)},unDisabled:function(){var t=$(this);t.removeAttr("disabled").removeClass("disabled"),t.data("html")&&t.html(t.data("html"))},toggleDisable:function(t){var e=$(this);e.attr("disabled")?e.unDisabled():e.disabled(t)}})}(jQuery);