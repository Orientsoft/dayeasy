!function(t,a){var n,s=function(s,e){var i=function(){var i=[];a.each(t.extend(!0,{},n),function(n,e){var c={grade:e,classList:[]};if(a.each(n,function(a){(!s||0==s.length||t.inArray(a.id,s)>=0)&&c.classList.push(a)}),c.classList.length>0){var l=c.classList.length%5;if(l>0)for(var r=0;5-l>r;r++)c.classList.push({id:-1,name:""});i.push(c)}});var c=template("classRangeTpl",i);dialog({title:e+" - 选课范围",content:c,quickClose:!0,fixed:!0,backdropOpacity:.3}).showModal()};n?i():t.get("/elective/classList",{},function(t){n=t,i()})};t(".btn-class-range").bind("click",function(){var n=t(this),e=n.data("class"),i=[];return e&&(i=a.json(decodeURIComponent(e))),s(i,n.parents("tr").find("td:eq(0)").html()),!1})}(jQuery,SINGER);