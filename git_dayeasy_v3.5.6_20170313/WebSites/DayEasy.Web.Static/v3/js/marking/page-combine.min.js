!function($,S){var staticPath=function(e){return S.sites["static"]+e},configCookie="__marking_setting",marking={data:{},pictureParam:{joint:"",groups:[]},config:{minScore:1,scoreReg:"^[0-9]{0,3}.??[0-9]{1,2}$",semiAuto:!1,semiScore:"50%",errorAuto:!1,errorScore:"100%",iconPath:staticPath("/v1/image/icon/marking/"),icons:[],markIcons:["full.png","semi.png","error.png"],markType:0,index:0,maxIndex:0,current:-1,zoom:1},ui:{$window:$(window),$groups:null,$pictures:null,$areas:null,$inputs:null,scoreBoxDialog:null,showScores:null,settingDialog:null,showSetting:null,setMark:null,setZoom:null},event:{init:null,loadPictures:null,scroll:null,setMarkType:null,scoreBox:null,tools:null,marking:null,setScore:null,reportException:null,submit:null,loadGroups:null,change:null,jump:null}},getPath=function(e,i,n){var a=marking.config.iconPath;return a+=0>e?"clear.png":2>=e?marking.config.markIcons[e]:5==e?"brow/"+i:i,n&&(a=a.replace(/\.[a-z]+$/gi,".cur")),a},enabledArea=function(e,i,n){var a=e.find(".dm-picture"),t=e.find(".dm-picture-finished");if(!i){t.remove(),a.addClass("hide");var r='<div class="dm-picture-finished"><div class="d-message"><i class="iconfont dy-icon-radiohv"></i>该题已经批阅完成</div><div class="d-actions"><button type="button" class="dy-btn dy-btn-info btn-remove">隐藏该题目</button></div></div>';return-1>n&&(r='<div class="dm-picture-finished"><div class="d-message nothing">该题无更多批阅记录</div></div>'),a.before(r),e.find(".dm-exception").addClass("hide"),e.addClass("disabled"),void e.find("input").attr("readonly","readonly")}t.length>0&&(e.removeClass("disabled"),a.removeClass("hide"),e.find(".dm-exception").removeClass("hide"),e.find("input").removeAttr("readonly"),t.remove())};marking.ui.setMark=function(e,i,n,a,t,r){var o=$(S.format('<div class="dm-mark" data-qid="{0}">',e)),s=getPath(n,"",!1),c=i.parents(".dm-item"),d=c.data("region");o.append(S.format('<img src="{0}" />',s)),a&&0!=a&&o.append(S.format('<span class="sub-score">-{0}</span>',a));var m=marking.config.zoom;r||1==m||(t.top=t.top*m,t.left=t.left*m);var u={top:t.top/m,left:t.left/m};if(o.css({top:t.top,left:t.left}).data("offset",u).data("state",r||0).data("mark",{id:e,x:u.left+d.x,y:u.top+d.y,t:n,w:Math.abs(a)}),i.append(o),1==r){o.addClass("mark-change");var g,l=function(e){if(0==e)return!1;o.append(S.format('<span class="sub-score">{0}</span>',e));var i=o.data("mark");i.w=Math.abs(e),o.data("mark",i)},p=function(){marking.ui.showScores(o,e,!0,function(e){S.isUndefined(e)?o.remove():l(e)})};switch(n){case 0:break;case 1:marking.config.semiAuto?(g=marking.event.setScore(e,marking.config.semiScore),l(g)):p();break;case 2:marking.config.errorAuto?(g=marking.event.setScore(e,marking.config.errorScore),l(g)):p()}}o.bind("click.marking",function(){if(-1!=marking.config.markType)return!1;var i=o.data("mark");1==o.data("state")?o.remove():(o.addClass("mark-change hide"),i.t=-1,o.data("mark",i)),marking.event.setScore(e,parseFloat(i.w));var n=c.find(".dm-score-box");$(".dm-score-box").not(n).removeClass("active"),n.addClass("active")})},marking.ui.showSetting=function(){var e=template("settingBox");marking.ui.settingDialog=S.dialog({title:"批阅设置",content:e,quickClose:!0,fixed:!0,backdropOpacity:.3,align:"left",okValue:"保存",ok:function(){var e=$(this.node),i=e.find('input[name="minScore"]:checked'),n=e.find('input[name="semiAuto"]:checked'),a=e.find('input[name="errorAuto"]:checked');marking.config.minScore=i.val(),marking.config.semiAuto=1==n.val(),marking.config.errorAuto=1==a.val(),marking.config.semiAuto&&(marking.config.semiScore=$(".d-semi").val(),-1==marking.config.semiScore.indexOf("%")&&(marking.config.semiScore=parseFloat(marking.config.semiScore))),marking.config.errorAuto&&(marking.config.errorScore=$(".d-error").val(),-1==marking.config.errorScore.indexOf("%")&&(marking.config.errorScore=parseFloat(marking.config.errorScore)));var t={minScore:marking.config.minScore,semiAuto:marking.config.semiAuto,semiScore:marking.config.semiScore,errorAuto:marking.config.errorAuto,errorScore:marking.config.errorScore};S.cookie.set(configCookie,S.json(t),0)},cancelValue:"取消",cancel:function(){},onshow:function(){var e,i=$(this.node),n=i.find('input[name="minScore"]'),a=i.find('input[name="semiAuto"]'),t=i.find('input[name="errorAuto"]'),r=marking.config;n.bind("click",function(){var i=$(this),n=i.val();e(.5==n)}),e=function(e){var n=i.find(".d-semi"),a=i.find(".d-error"),t=n.val(),r=a.val();n.empty().append('<option value="50%">扣一半</option>'),a.empty().append('<option value="100%">全扣</option>');for(var o=0;5>o;o++)e&&n.add(a).append(S.format('<option value="{0}">{0}分</option>',-.5-o)),n.add(a).append(S.format('<option value="{0}">{0}分</option>',-1-o));n.append('<option value="100%">全扣</option>'),a.append('<option value="50%">扣一半</option>'),n.val(t),a.val(r)},a.add(t).bind("click",function(){var e=$(this),i=e.parents(".d-control").find("select");1==e.val()?i.removeAttr("disabled").removeClass("disabled"):i.attr("disabled","disabled").addClass("disabled")}),n.eq(1==r.minScore?0:1).click(),a.eq(r.semiAuto?1:0).click(),t.eq(r.errorAuto?1:0).click(),r.semiAuto&&$(".d-semi").val(r.semiScore),r.errorAuto&&$(".d-error").val(r.errorScore)}}),marking.ui.settingDialog.showModal($(".tool-setting").get(0))},marking.ui.showScores=function(e,i,n,a){var t,r,o,s=function(e){S.isUndefined(e)||(e=marking.event.setScore(i,e,!n)),a&&a.call(this,e)},c={quick:[],scores:[]};if(t=$('input[data-qid="'+i+'"]'),o=.5==marking.config.minScore,n){if(r=parseFloat(t.val()),0>=r)return!1;for(o=o&&20>r,r>4&&(c.quick.push({text:"扣一半",score:"50%"}),c.quick.push({text:"全扣",score:"100%"})),r%1>0&&(c.scores.push(0-r),r-=r%1);r>0;)c.scores.push(0-r),r-=o?.5:1;c.scores.sort(function(e,i){return i-e})}else{if(!marking.data.questions.hasOwnProperty(i))return!1;var d=marking.data.questions[i];for(r=d.score,o=o&&20>r,r%1>0&&(c.scores.push(r),r-=r%1);r>=0;)c.scores.push(r),r-=o?.5:1;c.scores.sort(function(e,i){return e-i})}var m=template("scoreBox",c);marking.ui.scoreBoxDialog&&marking.ui.scoreBoxDialog.close().remove(),marking.ui.scoreBoxDialog=S.dialog({padding:5,align:"right",content:m,skin:"score-dialog",quickClose:!0,backdropOpacity:.3,cancelValue:"撤销",cancelDisplay:!1,onshow:function(){var e=$(this.node),i=e.find(".d-score"),n=e.find(".d-revoke");i.bind("click.marking",function(){var e=$(this).data("score");s(e),marking.ui.scoreBoxDialog.close().remove()}),n.bind("click.marking",function(){s(),marking.ui.scoreBoxDialog.close().remove()})}}).showModal(e.get(0))},marking.ui.setZoom=function(e){var i=780*(e-1);$(".dm-body").css({width:1040+i}),$(".dm-picture-box").css({width:782+i}),$(".dm-picture > img").css({width:780+i}),$(".dm-mark").each(function(i,n){var a=$(n),t=a.data("offset");a.css({top:t.top*e,left:t.left*e})}),$(".dm-area").each(function(i,n){var a=$(n),t=a.data("offset");a.css({top:t.y*e,left:t.x*e,width:t.w*e,height:t.h*e})}),marking.config.zoom=e},marking.event.init=function(){var groups=marking.data.groups,group,html,$item,list;if($(".header-wrap h3").html(S.format("《{0}》组合批阅",marking.data.paperTitle)),document.title=marking.data.paperTitle+" - "+document.title,!groups||0==groups.length)return!1;var config=S.json(S.cookie.get(configCookie));S.mix(marking.config,config);for(var i=0;i<groups.length;i++)group=groups[i],list=[],S.each(group.questionIds,function(e){var i=$.extend({},marking.data.questions[e]);i.id=e,i.area.x-=group.region.x,i.area.y-=group.region.y,i.area=S.json(i.area),list.push(i)}),html=template("pictureTemp",{section:group.section,list:list}),$item=$(html),$item.data("region",group.region),$item.data("group",group),$(".dm-areas").append($item);marking.ui.$areas=$(".dm-area"),marking.ui.$groups=$(".dm-item"),marking.ui.$pictures=$(".dm-picture"),marking.ui.$inputs=$(".dm-input").find("input"),marking.ui.$areas.each(function(i,area){var $area=$(area),offset=eval("("+$area.data("offset")+")");$area.data("offset",offset).css({top:parseFloat(offset.y),left:parseFloat(offset.x),width:offset.w,height:offset.h})}),$(".dm-fixed").each(function(e,i){$(i).data("top",parseFloat($(i).css("top")))}),marking.event.tools(),marking.event.marking(),marking.event.scoreBox(),$(".dm-prev,.dm-next").bind("click",function(){var e=$(this).hasClass("dm-next")?1:-1;marking.event.submit(function(){marking.event.change(e)},e)}),$("#saveBtn").bind("click.marking",function(){var e=$(this);e.disableField("请稍后..."),marking.event.submit(function(){S.msg("保存成功！"),e.undisableFieldset(),S.pageLoaded()})}),$(document).delegate(".btn-remove","click",function(){var e=$(this);S.confirm("确认隐藏该题目？",function(){e.disableField("请稍后..");var i=$(".dm-item"),n=e.parents(".dm-item");S.groups.splice(i.index(n),1),marking.event.submit(function(){var e,i,n;e="/marking/combine/"+S.joint,i=$('<form method="post" class="hide">'),i.attr("action",e),n=$('<input type="text" name="qList" />'),n.val(encodeURIComponent(S.json(S.groups))),i.append(n),$("body").append(i),i.submit()})})}).delegate(".dm-exception","click",function(){marking.event.reportException($(this))}).delegate(".b-jump","click",function(){var e,i=$(this);if(i.hasClass("disabled")||i.attr("disabled"))return!1;var n=S.format("即将跳转至您已批阅的{0}试卷",i.attr("title")),a="__marking_jump_confirm";return e=i.data("step"),e="first"==e?-marking.config.maxIndex-(0==marking.config.current?-1:marking.config.current):parseInt(e),S.cookie.get(a)?marking.event.submit(function(){marking.event.change(e)},e):S.dialog({title:"跳转提示",content:n,statusbar:'<label class="checkbox"><input type="checkbox">不再提醒</label>',okValue:"确认",cancelValue:"取消",ok:function(){var i=$(this.node);i.find("input[type=checkbox]").is(":checked")&&S.cookie.set(a,!0),marking.event.submit(function(){marking.event.change(e)},e)},cancel:function(){}}).showModal(),!1})},marking.event.loadPictures=function(e,i){var n,a,t,r,o=marking.ui.$groups;S.each(e,function(e,s){if(n=o.eq(s),0==n.length)return!1;var c=marking.pictureParam.groups[s],d=n.find(".dm-picture-history");if(i){var m=e.marked+c.step+1;0>m&&(m=0),d.find("em").html(S.format("{0}/{1}",m,e.marked)),d.removeClass("hide")}else d.addClass("hide");var u=n.find(".dm-progress em");u.eq(0).html(e.marked),u.eq(1).html(e.left);var g=e.id&&e.id.length>0;if(enabledArea(n,g,c.step),!g)return void(-1==c.step&&(c.step=0));c.step>=0&&(c.step=-1);var l=n.data("region");n.data("picture",e.id);var p=function(i){var n=i,a=n.parents(".dm-picture");a.children().addClass("hide"),a.prepend('<div class="picture-error">图片加载失败，<span>重新加载</span> </div>'),a.find(".picture-error span").bind("click",function(){n.attr("src",e.picture+"?t="+Math.random()),a.find(".picture-error").html('<div class="dy-loading"><i></i></div>')})};n.find(".dm-picture > img").attr("src",e.picture).unbind("error").unbind("load").bind("error",function(){var e=$(this).parents(".dm-picture");e.find(".picture-error").remove(),p($(this))}).bind("load",function(){var e=$(this).parents(".dm-picture");e.find(".picture-error").remove(),e.children().removeClass("hide")}),a=n.find(".dm-input"),S.each(e.details,function(e,i){t=a.find('input[data-qid="'+i+'"]'),t.val(e.score).data("detail",e)}),r=n.find(".dm-marks-wrap"),r.empty(),S.each(e.marks,function(e){marking.ui.setMark(e.id,r,e.t,e.w,{top:parseFloat(e.y-l.y),left:parseFloat(e.x-l.x)},0)})}),marking.ui.$inputs.eq(0).focus().select(),$("html,body").animate({scrollTop:0},200)},marking.event.scroll=function(e){var i=marking.ui.$window.scrollTop();$(".dm-fixed").each(function(e,n){var a=$(n),t=a.data("top");a.css({top:t+i})}),$(".dm-item").each(function(e,n){var a=$(n),t=a.offset(),r=a.height(),o=i-t.top+55,s=a.find(".dm-score-box"),c=s.height(),d=r-c-55;o>0&&d>=o?s.css({marginTop:o}):0>o&&s.css({marginTop:0})})},marking.event.setMarkType=function(e,i){var n=marking.ui.$pictures,a=getPath(e,i,!0);if(n.css({cursor:'url("'+a+'"),auto'}),marking.config.markType=e,2>=e){var t=$(".tool"),r=$('.tool[data-t="'+(0>e?"clear":e)+'"]');t.not(r).removeClass("active"),r.addClass("active")}},marking.event.tools=function(){var e,i=$(".tool"),n=$(".dm-picture"),a=!1;i.bind("click.marking",function(){var e=$(this),i=e.data("t");if(("clear"==i||2>=i)&&e.hasClass("active"))return!1;if(S.isNumber(i))return marking.event.setMarkType(i),!1;switch(i){case"clear":marking.event.setMarkType(-1);break;case"setting":marking.ui.showSetting();break;case"zoom":1==marking.config.zoom?marking.ui.setZoom(1.2):marking.ui.setZoom(1),e.toggleClass("tool-zoom-small",marking.config.zoom>1)}}),e=function(){var e=marking.config.markType+1;e>2&&(e=-1),marking.event.setMarkType(e)},n.bind("contextmenu",function(){return e(),!1}).bind("mouseover",function(){a=!0}).bind("mouseleave",function(){a=!1}),$(document).bind("keyup.marking",function(i){a&&82==i.keyCode&&e()})},marking.event.scoreBox=function(){marking.ui.$inputs.bind("change",function(){var e=$(this),i=e.data("detail"),n=e.data("qid"),a=e.val();if(!new RegExp(marking.config.scoreReg,"gi").test(a))return e.val(i.score),!1;a=parseFloat(a);var t=marking.data.questions[n];0>a&&(a=0),a>t.score&&(a=t.score),e.val(a)}).bind("keyup",function(e){var i=$(this),n=marking.ui.$inputs,a=n.index(i),t=i.val();if(""!=t&&!new RegExp("^[0-9]{1,3}(\\.[0-9]{0,1})?$","gi").test(t))return i.val(t.substring(0,t.length-1)),!1;var r=marking.data.questions[i.data("qid")];if(t=parseFloat(t),t>r.score&&i.val(r.score),13==e.keyCode)if(a<n.length-1){i=n.eq(a+1),i.focus().select();var o=i.parents(".dm-score-item").prev();if(!o||0==o.length){var s=i.offset().top-100;0>s&&(s=0),$("html,body").animate({scrollTop:s},200)}}else i.blur(),marking.event.submit(function(){marking.event.change(1)},1)}),$(".dm-all").bind("click.marking",function(){var e,i,n=$(this).parents(".dm-item");return n.hasClass("disabled")?!1:(i=n.find(".dm-input input"),void i.each(function(i,n){e=$(n),marking.event.setScore(e.data("qid"),"100%")}))}),$(".dm-score").bind("click.marking",function(){var e=$(this),i=e.parents(".dm-score-item").find("input"),n=i.data("qid");marking.ui.showScores(e,n,!1)})},marking.event.marking=function(){var e=marking.ui.$areas;e.bind("click.marking",function(e){var i=$(this),n=marking.config.markType,a=i.data("qid"),t=i.parents(".dm-picture");if(0>n)return!1;var r=t.offset(),o=marking.ui.$window.scrollTop(),s=marking.ui.$window.scrollLeft();r.top=e.clientY-r.top+o,r.left=e.clientX-r.left+s,2==n?(r.top-=18,r.left-=3):r.top-=23;var c=t.find(".dm-marks-wrap");marking.ui.setMark(a,c,n,0,r,1);var d=i.parents(".dm-item").find(".dm-score-box");$(".dm-score-box").not(d).removeClass("active"),d.addClass("active")})},marking.event.setScore=function(e,i,n){if(!marking.data.questions.hasOwnProperty(e))return 0;var a=marking.data.questions[e],t=$('.dm-input input[data-qid="'+e+'"]'),r=parseFloat(t.val()),o=(t.data("detail"),r);return i&&-1==i.toString().indexOf("%")&&(i=parseFloat(i)),n?r=i:S.isNumber(i)?r+=i:"50%"==i?r-=a.score/2:"100%"==i&&(r=0),0>r&&(r=0),r>a.score&&(r=a.score),t.val(r),r-o},marking.event.reportException=function(e){var i,n,a,t=e.parents(".dm-item"),r=0,o="";i=template("exceptionTemp"),n=S.dialog({title:"报告异常",content:i,okValue:"确　认",width:300,quickClose:!0,backdropOpacity:.3,cancelValue:"取　消",align:"right",ok:function(){var e=$(this.node),i=e.find('input[name="exception"]:checked'),n=e.find('button[data-id="ok"]');return 0==i.length?(S.msg("请选择异常类型！"),!1):(r=i.val(),0==r&&(o=e.find(".exception-other input").val(),!o||o.length>50)?(S.msg("请输入50个字符以内的异常信息！"),!1):(n.disableField("稍后.."),a(function(){n.undisableFieldset()}),!1))},cancel:function(){},onshow:function(){var e=$(this.node),i=e.find('input[name="exception"]');i.bind("click",function(){var i=$(this).val(),n=e.find(".exception-other");n.toggleClass("hide",i>0),0==i&&n.find("input").focus()})}}),n.showModal(e.get(0)),a=function(e){var i,a=t.data("group"),s={jointBatch:S.joint,pictureId:t.data("picture"),questionIds:a.questionIds,type:r},c=[],d=a.section;for(i=0;i<s.questionIds.length;i++){var m=s.questionIds[i];if(marking.data.questions.hasOwnProperty(m)){var u=marking.data.questions[m];c.push(u.sort)}}s.message=S.format("[{0}题号:{1}] {2}",d>0?1==d?"A卷 ":"B卷 ":"",c.join("、"),o),$.post("/marking/report-exception",{data:encodeURIComponent(S.json(s))},function(i){n.close().remove(),i.status?(marking.event.submit(function(){marking.event.change(0)},0),S.msg("报告成功！")):(S.alert(i.message),e&&e.call(this))})}},marking.event.submit=function(e,i){var n,a,t,r={pictures:[],details:[]};if(marking.ui.$groups.each(function(e,i){n=$(i),a=n.find(".mark-change"),0!=a.length&&(t={id:n.data("picture"),marks:[]},a.each(function(e,i){t.marks.push($(i).data("mark"))}),r.pictures.push(t))}),marking.ui.$inputs.each(function(e,i){var n=$(i),a=parseFloat(n.val()),t=n.data("detail");t&&a!=t.score&&r.details.push({id:t.id,score:a})}),r.pictures.length>0||r.details.length>0)S.pageLoading(),$.post("/marking/combine-submit",{data:encodeURIComponent(S.json(r))},function(i){return i.status?void(e&&e.call(this)):(S.pageLoaded(),S.msg(i.message),!1)});else{var o="__marking_check_operate";1!==i||0!==marking.config.current||S.cookie.get(o)?e&&e.call(this):S.dialog({title:"批阅提示",content:'您未对该页题目做任何操作<br/>确认<b class="text-danger">该页题目全对</b>吗？',statusbar:'<label class="checkbox"><input type="checkbox">不再提醒</label>',okValue:"确认",cancelValue:"取消",ok:function(){var i=$(this.node);i.find("input[type=checkbox]").is(":checked")&&S.cookie.set(o,!0),e&&e.call(this)},cancel:function(){}}).showModal()}},marking.event.loadGroups=function(e){return e?(S.pageLoading(),void $.get("/marking/change-picture",{joint:S.joint,groups:encodeURIComponent(S.json(e)),t:Math.random()},function(i){if(!i.status)return S.pageLoaded(),S.msg(i.message),index&&index<0&&$(".dm-item").each(function(e,i){enabledArea($(i),!1,0)}),!1;marking.pictureParam.groups=e;for(var n=!1,a=0;a<e.length;a++)if(e[a].step<-1){n=!0;break}marking.event.loadPictures(i.data,n);var t=0;S.each(i.data,function(e){e.marked>t&&(t=e.marked)}),marking.config.maxIndex=t,0==step?marking.config.current=-1:(step<0&&0==marking.config.current&&(marking.config.current=-1),marking.config.current+=step),marking.config.current>0&&(marking.config.current=0);var r=$(".jump-first"),o=$(".jump-last");marking.config.maxIndex===-marking.config.current?r.disableField():r.undisableFieldset(),marking.config.current>=-1?o.disableField():o.undisableFieldset(),S.pageLoaded()})):!1},marking.event.change=function(e){var i,n;S.isObject(e)?(i=e.step,n=e.index):i=e;for(var a=$.extend(!0,[],marking.pictureParam.groups),t=0;t<a.length;t++){var r=a[t];!n||n>=0?0==i?r.step=-1:r.step>=0&&i>=0?r.step=0:r.step+=i:r.step=n}S.pageLoading(),$.get("/marking/change-picture",{joint:S.joint,groups:encodeURIComponent(S.json(a)),t:Math.random()},function(e){if(!e.status)return S.pageLoaded(),S.msg(e.message),n&&0>n&&$(".dm-item").each(function(e,i){enabledArea($(i),!1,0)}),!1;marking.pictureParam.groups=a;for(var t=!1,r=0;r<a.length;r++)if(a[r].step<-1){t=!0;break}marking.event.loadPictures(e.data,t);var o=0;S.each(e.data,function(e){e.marked>o&&(o=e.marked)}),marking.config.maxIndex=o,0==i?marking.config.current=-1:(0>i&&0==marking.config.current&&(marking.config.current=-1),marking.config.current+=i),marking.config.current>0&&(marking.config.current=0);var s=$(".jump-first"),c=$(".jump-last");marking.config.maxIndex===-marking.config.current?s.disableField():s.undisableFieldset(),marking.config.current>=-1?c.disableField():c.undisableFieldset(),S.pageLoaded()})},marking.event.jump=function(e){},S.pageLoading(),marking.pictureParam.joint=S.joint;for(var i=0;i<S.groups.length;i++)marking.pictureParam.groups.push({ids:S.groups[i],step:-1});$(window).bind("scroll.marking",function(e){marking.event.scroll(e)}).bind("keyup.marking",function(e){if(e.ctrlKey){if(e.altKey&&83==e.keyCode)return marking.event.submit(function(){S.msg("保存成功！"),S.pageLoaded()}),!1;switch(e.keyCode){case 39:marking.event.change(1);break;case 37:marking.event.change(-1)}}}),$.get("/marking/combine-data",{joint:S.joint,groups:encodeURIComponent(S.json(S.groups)),t:Math.random()},function(e){return e.status?(S.mix(marking.data,e.data),marking.event.init(),marking.event.change(0),void marking.event.setMarkType(0)):(S.pageLoaded(),S.msg(e.message,2e3,function(){location.href="/marking/mission_v2/"+S.joint}),!1)})}(jQuery,SINGER);