!function(t,n){var i,e,d,o,a=t("#btnLoad");i=n.getLogger("bind-student"),o=t(".cont-min").data("id"),d=function(i){t.get("/bind/child-complete",{studentId:i,return_url:n.uri().return_url},function(t){n.dialog({title:"关联学生帐号",content:t}).showModal()})},o&&n.isNumber(o)&&d(o),e=function(){var i=t("#account").val(),e=t("#pwd").val();return i&&e?/^(1\d{10})|([\w\W]+@[0-9a-z]+(\.[0-9a-z]+)+)$/gi.test(i)?e.length<6?(n.msg("学生密码长度不能小于6位！"),!1):(a.disableField("正在关联..."),void t.post("/bind/load-student",{account:i,pwd:e},function(t){t.status?d(t.data.id):n.alert(t.message),a.undisableFieldset()})):(n.msg("学生帐号不是有效的邮箱地址或手机号！"),!1):(n.msg("请输入学生帐号和密码！"),!1)},a.bind("click",function(){return a.blur(),e(),!1}),t(".dy-plat-list a").bind("click",function(){var i=t(this).data("type");return n.isUndefined(i)||(location.href=n.format("/login/third-login?type={0}&host={1}",i,encodeURIComponent(n.sites.account+"/bind/child"))),!1}),t("#pwd").bind("keyup",function(t){t.stopPropagation(),13===t.keyCode&&e()})}(jQuery,SINGER);