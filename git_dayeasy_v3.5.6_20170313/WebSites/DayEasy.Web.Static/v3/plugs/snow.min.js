!function(t,e){function i(){var i=e.createElement("canvas");i.id="snowfall",i.width=$(t).width(),i.height=$(e).height(),i.setAttribute("style","position:absolute; top: 0; left: 0; z-index: 1; pointer-events: none;background:rgba(0,0,0,.1);z-index:200"),e.getElementsByTagName("body")[0].appendChild(i),this.canvas=i,this.ctx=i.getContext("2d"),t.onresize=function(){i.width=$(t).width(),i.height=$(e).height()}}function a(){for(var t=this.maxFlake,e=this.flakes=[],i=this.canvas,a=0;t>a;a++)e.push(new n(i,i.width,i.height,this.flakeSize,this.fallSpeed))}function s(){var t=this.maxFlake,e=this.flakes,i=this.ctx,a=this.canvas,h=this;i.clearRect(0,0,a.width,a.height);for(var n=0;t>n;n++)e[n].update(),e[n].render(i);this.loop=requestAnimationFrame(function(){s.apply(h)})}var h=function(t){t=t||{},this.maxFlake=t.maxFlake||200,this.flakeSize=t.flakeSize||10,this.fallSpeed=t.fallSpeed||1};requestAnimationFrame=t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame||t.oRequestAnimationFrame||function(t){setTimeout(t,1e3/60)},cancelAnimationFrame=t.cancelAnimationFrame||t.mozCancelAnimationFrame||t.webkitCancelAnimationFrame||t.msCancelAnimationFrame||t.oCancelAnimationFrame,h.prototype.start=function(){i.apply(this),a.apply(this),s.apply(this)};var n=function(t,e,i,a,s){this.x=Math.floor(Math.random()*e),this.y=Math.floor(Math.random()*i),this.size=Math.random()*a+2,this.maxSize=a,this.speed=Math.random()+s,this.fallSpeed=s,this.velY=this.speed,this.velX=0,this.stepSize=Math.random()/30,this.step=0,this.canvas=t};n.prototype.update=function(){var t=(this.x,this.y,this.canvas);this.velX*=.98,this.velY<=this.speed&&(this.velY=this.speed),this.velX+=Math.cos(this.step+=.05)*this.stepSize,this.y+=this.velY,this.x+=this.velX,(this.x>=t.width||this.x<=0||this.y>=t.height||this.y<=0)&&this.reset(t.width,t.height)},n.prototype.reset=function(t,e){this.x=Math.floor(Math.random()*t),this.y=0,this.size=Math.random()*this.maxSize+2,this.speed=Math.random()+this.fallSpeed,this.velY=this.speed,this.velX=0},n.prototype.render=function(t){var e=t.createRadialGradient(this.x,this.y,0,this.x,this.y,this.size);e.addColorStop(0,"rgba(255, 255, 255, 0.9)"),e.addColorStop(.5,"rgba(255, 255, 255, 0.5)"),e.addColorStop(1,"rgba(255, 255, 255, 0)"),t.save(),t.fillStyle=e,t.beginPath(),t.arc(this.x,this.y,this.size,0,2*Math.PI),t.fill(),t.restore()};var o=new h({maxFlake:200,flakeSize:5});o.start()}(window,document);